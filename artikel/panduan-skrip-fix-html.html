
    
        
                
                        'Facebook': 'M12 2.04c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm2.5 12.46h-2.5v7.5h-3v-7.5H7.5v-2.5h1.5v-1.5c0-1.5 1-2.5 2.5-2.5h2v2.5h-1.5v1.5h1.5v2.5z',
                        'Telegram': 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.69 6.54l-1.63 7.63c-.15.7-.58.87-1.14.54l-2.43-1.78-1.17 1.12c-.13.13-.24.24-.48.24l.17-2.48 4.46-4.04c.19-.17-.03-.27-.27-.1l-5.5 3.44-2.37-.74c-.69-.22-.7-.73.14-1.07l9.42-3.61c.58-.22 1.04.14.87.8z'
                        'Twitter': 'M22.46 6c-.77.35-1.6.58-2.46.67.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.56 9.1 5.23 7.22 3.1 4.48c-.37.63-.58 1.37-.58 2.15 0 1.49.76 2.81 1.91 3.58-.7-.02-1.37-.21-1.95-.5v.05c0 2.08 1.48 3.82 3.44 4.21-.36.1-.74.15-1.14.15-.28 0-.55-.03-.81-.08.55 1.7 2.14 2.94 4.03 2.97-1.47 1.15-3.32 1.83-5.33 1.83-.35 0-.69-.02-1.03-.06 1.9 1.22 4.16 1.93 6.58 1.93 7.89 0 12.21-6.54 12.21-12.21 0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.22z',
                        'WhatsApp': 'M12 2C6.48 2 2 6.48 2 12c0 5.52 4.48 10 10 10 5.52 0 10-4.48 10-10S17.52 2 12 2zm3.19 12.2c-.22.39-.77.72-1.2.82-.43.1-1.04.1-1.58-.08-.54-.18-1.2-.4-1.92-.77-.72-.37-1.38-.83-1.93-1.38s-.99-1.2-1.38-1.93c-.37-.72-.6-1.38-.77-1.92-.18-.54-.18-1.14-.08-1.58.1-.43.43-.98.82-1.2.39-.22.8-.27 1.14-.27.34 0 .6.05.78.08.18.03.3.05.3.05l.1.05c.22.1.33.22.4.4.07.18.05.35-.05.5-.1.15-.22.3-.3.4l-.1.1c-.22.25-.4.5-.4.8s.18.55.4.8l.1.1c.3.22.6.4.8.4s.48-.1.7-.3l.1-.1c.1-.1.22-.22.3-.3.1-.15.27-.22.4-.15l.05.02s.02.02.05.05c.18.08.3.3.3.5.02.2.02.43-.05.6-.07.17-.12.3-.2.43l-.1.1c-.22.4-.55.77-.82 1.2z',
                        <button class="lb-close" id="lb-close" aria-label="Tutup">&times;</button>
                        <button class="lb-next" id="lb-next" aria-label="Gambar Berikutnya">&#10095;</button>
                        <button class="lb-prev" id="lb-prev" aria-label="Gambar Sebelumnya">&#10094;</button>
                        <img id="lb-img" src="" alt="Gambar diperbesar">
                        const img = entry.target;
                        const index = images.indexOf(link);
                        content.extract()
                        content.replace_with(cleaned_string)
                        currentIndex = index;
                        if (e.key === 'ArrowLeft') document.getElementById('lb-prev').click();
                        if (e.key === 'ArrowRight') document.getElementById('lb-next').click();
                        if (e.key === 'Escape') lightbox.classList.remove('open');
                        img.removeAttribute('data-src');
                        img.src = img.dataset.src;
                        lbImg.alt = imgLink.dataset.caption || '';
                        lbImg.src = imgLink.href;
                        lightbox.classList.add('open');
                        observer.unobserve(img);
                        showImage(index);
                    'Facebook': `https://www.facebook.com/sharer/sharer.php?u=${url}`,
                    'Telegram': `https://t.me/share/url?url=${url}&text=${title}`
                    'Twitter': `https://twitter.com/intent/tweet?url=${url}&text=${title}`,
                    'WhatsApp': `https://wa.me/?text=${title}%20${url}`,
                    1. Memperbaiki tag yang rusak.<br>
                    2. Memindahkan konten yang salah tempat ke dalam `&lt;body&gt;`.<br>
                    3. Membersihkan tag `&lt;script&gt;` JSON-LD.<br>
                    4. Menghapus `&lt;div&gt;` kosong.<br>
                    5. Membersihkan spasi dan baris baru di dalam tag (misal: `&lt;strong&gt;`).<br>
                    6. Membuat file log `perbaikan_log.txt` dengan ringkasan.
                    </figure>
                    <figure>
                    <li>Aktifkan lingkungan virtual (`source venv/bin/activate.fish`).</li>
                    <li>Buka terminal di folder tersebut.</li>
                    <li>File `*_fixed.html` untuk setiap file yang diperbaiki.</li>
                    <li>Jalankan skrip: `python fix_html.py`.</li>
                    <li>Letakkan di folder yang sama dengan file-file HTML Anda.</li>
                    <li>Satu file log `perbaikan_log.txt` yang berisi ringkasan dan detail semua perbaikan.</li>
                    <li>Simpan kode di atas sebagai `fix_html.py`.</li>
                    <pre><code>================ SUMMARY ================
                    <strong>Contoh Log:</strong><br>
                    <strong>Fitur Utama Skrip:</strong><br>
                    a.href = link;
                    a.innerHTML = `<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">${getIconPath(name)}</svg>`;
                    a.rel = 'noopener noreferrer';
                    a.target = '_blank';
                    a.title = `Bagikan ke ${name}`;
                    const a = document.createElement('a');
                    const icons = {
                    const imgLink = images[index];
                    const link = e.target.closest('a');
                    e.preventDefault();
                    else:
                    if (entry.isIntersecting) {
                    if (imgLink) {
                    if (lightbox.classList.contains('open')) {
                    if (link) {
                    if cleaned_string:
                    json_cleaned_count += 1
                    return icons[name] || '';
                    script.string = cleaned_json.strip()
                    shareContainer.appendChild(a);
                    }
                    };
                </div>
                </ol>
                </ul>
                <div class="callout">
                <div class="gallery"></div>
                <div class="lightbox" id="lightbox">
                <h2>Semoga Berhasil.</h2>
                <h2>Tahap 1: Kendala Instalasi üöß</h2>
                <h2>Tahap 2: Error Shell yang Tidak Kompatibel üêü</h2>
                <h2>Tahap 3: Skrip Final Perbaikan HTML üêç</h2>
                <h2>Tahap 4: Cara Penggunaan & Hasil üöÄ</h2>
                <h3>Hasil Akhir</h3>
                <h3>Jaga Data Pribadi Tetap Aman</h3>
                <h3>Kenapa Error Ini Muncul?</h3>
                <h3>Langkah-langkah Eksekusi</h3>
                <h3>Solusi Terbaik: Virtual Environment (`venv`)</h3>
                <h3>Solusi: Gunakan Skrip Aktivasi yang Tepat</h3>
                <hr>
                <ol>
                <p>Cara paling profesional adalah dengan membuat lingkungan kerja yang terisolasi. Dengan begitu, kita bebas menginstal paket apa pun tanpa mengganggu sistem utama.</p>
                <p>Cukup gunakan file aktivasi yang berakhiran `.fish`.</p>
                <p>Dalam proses mengelola banyak file HTML, seringkali kita menemukan error-error kecil yang berulang. Memperbaikinya satu per satu tentu membuang waktu. Solusinya? Membuat skrip otomatis! Halaman ini merangkum proses pembuatan skrip Python dari awal, termasuk cara mengatasi berbagai kendala yang muncul di lingkungan Linux modern.</p>
                <p>Error ini adalah sebuah fitur keamanan. Sistem operasi Linux (seperti Ubuntu/Debian) ingin melindungi paket Python internalnya agar tidak rusak oleh instalasi `pip` yang dilakukan pengguna. Jadi, ia "mengunci" lingkungan Python sistem.</p>
                <p>Langkah pertama dalam membuat skrip ini adalah menginstal library yang dibutuhkan: `BeautifulSoup4` dan `lxml`. Namun, di distro Linux modern, kita seringkali disambut dengan error:</p>
                <p>Setelah berhasil mengatasi masalah lingkungan, inilah skrip final `fix_html.py` yang kita kembangkan. Skrip ini tidak hanya memperbaiki error struktural, tetapi juga membersihkan spasi berlebih dan membuat file log yang rapi.</p>
                <p>Setelah membuat `venv`, beberapa pengguna (terutama pengguna `fish` shell) akan menemukan error baru saat mencoba mengaktifkannya:</p>
                <p>Setelah perintah ini, terminal Anda akan menampilkan `(venv)` di depannya, menandakan Anda sudah berada di lingkungan virtual dan siap untuk melanjutkan instalasi.</p>
                <p>Skrip `activate` standar ditulis untuk shell `bash`. Shell lain seperti `fish` memiliki sintaks yang berbeda dan tidak bisa menjalankannya. Untungnya, `venv` sudah menyediakan solusinya.</p>
                <p>Skrip akan menghasilkan dua hal:</p>
                <pre><code class="language-python">import os
                <pre><code># 1. Buat folder lingkungan virtual bernama 'venv'
                <pre><code># Perintah aktivasi yang benar untuk fish shell
                <pre><code>pip install beautifulsoup4 lxml
                <pre><code>source venv/bin/activate
                <ul>
                cleaned_json = re.sub(r'&lt;[^&gt;]+&gt;|', '', original_string, flags=re.DOTALL)
                cleaned_string = str(content).replace('\xa0', ' ').strip()
                const images = Array.from(gallery.querySelectorAll('a'));
                const lbImg = document.getElementById('lb-img');
                const platforms = {
                const title = encodeURIComponent(document.title);
                const url = encodeURIComponent(window.location.href);
                div.decompose()
                document.addEventListener('keydown', e => {
                document.getElementById('lb-close').addEventListener('click', () => lightbox.classList.remove('open'));
                document.getElementById('lb-next').addEventListener('click', () => showImage((currentIndex + 1) % images.length));
                document.getElementById('lb-prev').addEventListener('click', () => showImage((currentIndex - 1 + images.length) % images.length));
                empty_divs_removed += 1
                entries.forEach(entry => {
                f.write(soup.prettify(formatter="html5"))
                for (const [name, link] of Object.entries(platforms)) {
                for msg in all_logs[filename]: log_file.write(f"{msg}\n")
                function getIconPath(name) {
                function showImage(index) {
                gallery.addEventListener('click', e => {
                if cleaned_json.strip() != original_string.strip():
                if cleaned_string != str(content):
                let currentIndex = 0;
                lightbox.addEventListener('click', e => { if (e.target === lightbox) lightbox.classList.remove('open'); });
                log_file.write("-" * 40 + "\n")
                log_file.write(f"Log untuk file: {filename}\n")
                original_string = script.string
                }
                });
                };
            --accent-color: #38bdf8;
            --bg-color: #111827;
            --border-color: rgba(255, 255, 255, 0.1);
            --card-color: #1f2937;
            --heading-color: #f9fafb;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --text-color: #d1d5db;
            // --- Lazy Load Images ---
            // --- Lightbox ---
            // --- Social Sharing ---
            </article>
            </section>
            <article>
            <h1>‚öôÔ∏è Panduan Lengkap: Skrip Otomatis Perbaikan HTML</h1>
            <hr>
            <p class="subtitle">Sebuah rangkuman perjalanan dari error hingga solusi final dengan Python & BeautifulSoup.</p>
            <p>üÑØ 2025 - Dibuat dengan bantuan AI. Semua hak cipta dilindungi.</p>
            <section id="fb-comments-container" class="user-info">
            background-color: #374151;
            background-color: var(--bg-color);
            background-color: var(--card-color);
            border-bottom: 2px solid var(--accent-color);
            border-left: 4px solid var(--accent-color);
            border-radius: 0 8px 8px 0;
            border-radius: 6px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
            color: #a5f3fc;
            color: var(--heading-color);
            color: var(--text-color);
            const gallery = document.querySelector('.gallery');
            const lazyImageObserver = new IntersectionObserver((entries, observer) => {
            const lazyImages = document.querySelectorAll('img[data-src]');
            const lightbox = document.getElementById('lightbox');
            const shareContainer = document.getElementById('share-container');
            content = content.replace("times;</span>", "&times;</span>")
            content = f.read()
            font-family: 'Fira Code', 'Courier New', monospace;
            font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
            font-size: 0.9em;
            font-size: 1.75rem;
            font-size: 16px;
            font-size: clamp(2rem, 5vw, 3rem);
            for filename in sorted(all_logs.keys()):
            has_changes = True
            if (gallery && lightbox) {
            if isinstance(content, NavigableString):
            if not any(isinstance(c, Comment) or (isinstance(c, str) and c.strip()) or hasattr(c, 'name') for c in div.contents):
            if script.string:
            if(shareContainer) {
            lazyImages.forEach(img => lazyImageObserver.observe(img));
            line-height: 1.2;
            line-height: 1.7;
            log_file.write(f"================ SUMMARY ================\n")
            log_file.write(f"=======================================\n\n")
            log_file.write(f"Total file yang diproses dan dibersihkan: {len(all_logs)}\n")
            log_messages.append("  - Memperbaiki &lt;span&gt; penutup yang rusak.")
            log_messages.append("  - Menemukan konten setelah &lt;/html&gt; yang akan dipindahkan.")
            log_messages.append(f"  - Membersihkan {json_cleaned_count} blok skrip JSON-LD.")
            log_messages.append(f"  - Menghapus {empty_divs_removed} tag &lt;div&gt; kosong.")
            margin-top: 3rem;
            margin: 0 0 0.5rem 0;
            margin: 0 auto;
            margin: 0;
            margin: 1.5rem 0;
            max-width: 900px;
            output_path = file_path.replace('.html', '_fixed.html')
            overflow-x: auto;
            padding-bottom: 0.5rem;
            padding: 0.2em 0.4em;
            padding: 1em 1.5em;
            padding: 1em;
            padding: 2rem 1.5rem;
            print(f"  [-] Tidak ada perbaikan yang diperlukan.")
            print(f"  [‚úì] Perbaikan & pembersihan diterapkan: {os.path.basename(output_path)}")
            with open(output_path, 'w', encoding='utf-8') as f:
            }
            });
        .callout {
        .callout.warning { border-left-color: #facc15; }
        .container {
        .gallery a { display: block; overflow: hidden; border-radius: 8px; box-shadow: var(--shadow); }
        .gallery a:hover img { transform: scale(1.05); }
        .gallery img { width: 100%; height: auto; display: block; transition: transform 0.3s ease; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1.5rem; }
        .info-item .icon { font-size: 1.5rem; }
        .info-item { display: flex; align-items: center; gap: 0.5rem; }
        .lb-close { top: 10px; right: 10px; padding: 0 1rem; }
        .lb-next { right: 10px; }
        .lb-prev { left: 10px; }
        .lb-prev, .lb-next { top: 50%; transform: translateY(-50%); padding: 1rem; }
        .lightbox button { position: absolute; background: rgba(255,255,255,0.1); border: 1px solid var(--border-color); color: white; font-size: 2rem; cursor: pointer; transition: background 0.2s; }
        .lightbox button:hover { background: rgba(255,255,255,0.2); }
        .lightbox figure { margin: 0; max-width: 90vw; max-height: 85vh; position: relative; }
        .lightbox img { display: block; max-width: 100%; max-height: 85vh; }
        .lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(5px); display: none; place-items: center; z-index: 1000; }
        .lightbox.open { display: grid; }
        .share-buttons a { display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; background: #374151; color: white; border-radius: 50%; text-decoration: none; margin: 0 0.5rem; transition: transform 0.2s; }
        .share-buttons a:hover { transform: translateY(-3px); }
        .share-buttons, .user-info { text-align: center; background: var(--card-color); padding: 2rem; border-radius: 8px; margin-top: 2rem; box-shadow: var(--shadow); }
        .user-info-grid { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 1rem; }
        :root {
        </footer>
        </header>
        </main>
        <footer>
        <header>
        <main>
        body {
        code {
        document.addEventListener('DOMContentLoaded', () => {
        else:
        empty_divs_removed = 0
        end_marker = '&lt;/html&gt;'
        footer { text-align: center; padding: 2rem; color: #6b7380; font-size: 0.9em; margin-top: 2rem; }
        for content in list(tag.contents):
        for div in soup.find_all('div'):
        for script in json_scripts:
        h1 {
        h2 {
        h3 { font-size: 1.25rem; color: var(--heading-color); }
        has_changes = True
        header .subtitle { font-size: 1.1rem; color: var(--accent-color); }
        header { text-align: center; padding: 3rem 1.5rem; }
        hr { border: 0; height: 1px; background-color: var(--border-color); margin: 3rem 0; }
        html { scroll-behavior: smooth; }
        if "times;</span>" in content:
        if empty_divs_removed > 0:
        if end_marker in content and content[content.rfind(end_marker) + len(end_marker):].strip():
        if has_changes:
        if json_cleaned_count > 0:
        if log_messages: all_logs[filename] = log_messages
        if not soup.body: return log_messages
        json_cleaned_count = 0
        json_scripts = soup.find_all('script', type='application/ld+json')
        log_messages = fix_html_file(os.path.join('.', filename))
        log_messages.append("  - Membersihkan spasi berlebih di dalam tag HTML.")
        pre code { padding: 0; background: none; }
        pre {
        print("ü§∑‚Äç‚ôÇÔ∏è Tidak ada file .html yang ditemukan.")
        print(f"  [‚úó] Gagal memproses {file_path}: {e}")
        print(f"[*] Memproses file: {filename}...")
        print(f"üìù Catatan log dengan summary telah dibuat di: {LOG_FILE}")
        return
        return [f"  - ERROR: {e}"]
        return log_messages
        soup = BeautifulSoup(content, 'lxml')
        strip_whitespace_in_tags(soup)
        with open(LOG_FILE, 'w', encoding='utf-8') as log_file:
        with open(file_path, 'r', encoding='utf-8') as f:
        }
        });
    </div>
    </script>
    </style>
    <div class="container">
    <link rel="canonical" href="https://frijal.pages.dev/artikel/panduan-skrip-fix-html.html">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öôÔ∏è</text></svg>">
    <meta charset="UTF-8">
    <meta itemprop="image" content="https://frijal.pages.dev/img/panduan-skrip-fix-html.webp">
    <meta name="author" content="Gemini & frijal">
    <meta name="description" content="Tutorial lengkap langkah demi langkah untuk membuat skrip Python dengan BeautifulSoup guna memperbaiki error HTML umum secara otomatis, termasuk mengatasi masalah instalasi di Linux.">
    <meta name="keywords" content="Python, BeautifulSoup, HTML, Fix HTML, Skrip Otomatis, venv, fish shell, externally-managed-environment, tutorial, coding">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="Tutorial lengkap langkah demi langkah untuk membuat skrip Python dengan BeautifulSoup guna memperbaiki error HTML umum secara otomatis.">
    <meta name="twitter:image" content="https://frijal.pages.dev/img/panduan-skrip-fix-html.webp">
    <meta name="twitter:image:alt" content="Kode Python di layar monitor">
    <meta name="twitter:site" content="@frijal">
    <meta name="twitter:title" content="Panduan Lengkap: Membuat Skrip Otomatis untuk Memperbaiki HTML">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="article:published_time" content="2025-10-04T15:37:18.219+00:00">
    <meta property="og:description" content="Tutorial lengkap langkah demi langkah untuk membuat skrip Python dengan BeautifulSoup guna memperbaiki error HTML umum secara otomatis.">
    <meta property="og:image" content="https://frijal.pages.dev/img/panduan-skrip-fix-html.webp">
    <meta property="og:image:alt" content="Kode Python di layar monitor">
    <meta property="og:site_name" content="frijal.pages.dev">
    <meta property="og:title" content="Panduan Lengkap: Membuat Skrip Otomatis untuk Memperbaiki HTML">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://frijal.pages.dev/artikel/panduan-skrip-fix-html.html">
    <script>
    <style>
    <title>Panduan Lengkap: Membuat Skrip Otomatis untuk Memperbaiki HTML</title>
    all_logs = {}
    except Exception as e:
    for filename in html_files_to_process:
    for tag in soup.find_all(lambda t: t.name not in tags_to_exclude):
    has_changes = False
    html_files_to_process = sorted([f for f in os.listdir('.') if f.endswith('.html') and not f.endswith('_fixed.html')])
    if all_logs:
    if not html_files_to_process:
    if os.path.exists(LOG_FILE): os.remove(LOG_FILE)
    log_messages = []
    main()
    print("\nüéâ Proses selesai.")
    print(f"Ditemukan {len(html_files_to_process)} file untuk diproses...\n")
    tags_to_exclude = {'pre', 'code', 'style', 'script'}
    try:
  - Membersihkan spasi berlebih di dalam tag HTML.
  - Memperbaiki &lt;span&gt; penutup pencarian yang rusak.
  - Menemukan konten setelah &lt;/html&gt; yang akan dipindahkan.
# 2. Aktifkan lingkungan tersebut
----------------------------------------</code></pre>
<!doctype html>
</body></html>
</code></pre>
</head>
<body>
<div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button">&times;</span><div id="floatingSearchResults" class="floating-results-container"></div></div>
<div class="search-floating-container"><input type="text" id="floatingSearchInput"></div>
<div id="iposbrowser"></div>
<head>
<html lang="id">
<link rel="stylesheet" href="/ext/marquee-url.css">
<script defer src="/ext/iposbrowser.js"></script>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section>
=======================================
LOG_FILE = "perbaikan_log.txt"
Log untuk file: contoh.html
Total file yang diproses dan dibersihkan: 1
def fix_html_file(file_path):
def main():
def strip_whitespace_in_tags(soup):
error: externally-managed-environment</code></pre>
from bs4 import BeautifulSoup, Comment, NavigableString
if __name__ == "__main__":
import re
python3 -m venv venv
source venv/bin/activate.fish</code></pre>
source venv/bin/activate</code></pre>
venv/bin/activate: 'case' builtin not inside of switch block</code></pre>
