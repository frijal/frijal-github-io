<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Bundle Perbaikan GRUB Bootloader (Debian & Turunannya)</title>
    <link rel="stylesheet" href="/ext/related.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        line-height: 1.6;
        margin: 20px;
        background: #fcfcfc;
        color: #222;
      }
      h1 {
        color: #8b0000;
        text-align: center;
      }
      h2 {
        color: #005f73;
        border-bottom: 2px solid #ccc;
        padding-bottom: 4px;
      }
      pre {
        position: relative;
        padding: 1em;
        border-radius: 8px;
        background: #2d2d2d;
        color: #f8f8f2;
        overflow-x: auto;
        margin-bottom: 16px;
      }
      .copy-btn,
      .download-btn {
        position: absolute;
        top: 8px;
        right: 8px;
        background: #005f73;
        color: #fff;
        border: none;
        padding: 4px 8px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.8em;
      }
      .download-btn {
        right: 80px;
        background: #006400;
      }
      ol li,
      ul li {
        margin-bottom: 10px;
      }
      section {
        margin-bottom: 40px;
      }
    </style>
  </head>
  <body>
    <h1>📌 Bundle Perbaikan GRUB Bootloader</h1>
    <p>
      Halaman ini berisi tiga metode untuk memperbaiki GRUB di Debian/Ubuntu dan
      turunannya: <strong>otomatis, manual, dan troubleshooting</strong>. Pilih
      cara yang sesuai dengan kondisi sistem kamu.
    </p>
    <section id="otomatis">
      <h2>1. Perbaikan Otomatis dengan Skrip</h2>
      <p>
        Cara cepat untuk memperbaiki GRUB adalah menggunakan skrip otomatis.
        Cocok untuk pemula, tapi tetap hati-hati: pastikan disk target benar!
      </p>
      <pre>
      <button class="download-btn" onclick="downloadScript()">Download</button>
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">#!/bin/bash
# fix-grub.sh
# Skrip otomatis untuk memperbaiki GRUB di Debian/Ubuntu
# ⚠ PERINGATAN: Gunakan dengan hati-hati, pastikan disk target benar

DISK="$1"
if [ -z "$DISK" ]; then
  echo "Usage: $0 /dev/sdX"
  echo "Contoh: $0 /dev/sda"
  exit 1
fi

echo "=== PERINGATAN ==="
echo "Skrip ini akan mencoba memperbaiki GRUB pada disk: $DISK"
read -p "Lanjutkan? (y/n) " ans
if [[ "$ans" != "y" ]]; then
  echo "Dibatalkan."
  exit 0
fi

# Mount partisi root (anggap partisi root ada di /dev/sdX1)
mount /dev/${DISK##*/}1 /mnt || { echo "Gagal mount root partition!"; exit 1; }

# Mount pseudo-filesystems
mount --bind /dev /mnt/dev
mount --bind /proc /mnt/proc
mount --bind /sys /mnt/sys

# Chroot & reinstall GRUB
chroot /mnt grub-install "$DISK"
chroot /mnt update-grub

# Cleanup
umount /mnt/dev
umount /mnt/proc
umount /mnt/sys
umount /mnt

echo "✔ GRUB berhasil diperbaiki di $DISK"
echo "Silakan reboot sistem."</code>
    </pre>
      <p><strong>Cara pakai:</strong></p>
      <ol>
        <li>Simpan sebagai <code>fix-grub.sh</code>.</li>
        <li>Beri izin: <code>chmod +x fix-grub.sh</code>.</li>
        <li>
          Jalankan dari Live USB: <code>sudo ./fix-grub.sh /dev/sda</code>.
        </li>
      </ol>
    </section>
    <section id="manual">
      <h2>2. Perbaikan Manual Step by Step</h2>
      <p>
        Jika lebih nyaman mengetik perintah sendiri, gunakan cara manual. Cocok
        untuk belajar atau kondisi khusus yang tidak cocok dengan skrip.
      </p>
      <ol>
        <li><strong>Boot ke Live USB</strong>.</li>
        <li>
          <strong>Cari partisi root:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">sudo fdisk -l</code>
        </pre>
        </li>
        <li>
          <strong>Mount partisi root:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">sudo mount /dev/sda1 /mnt</code>
        </pre>
        </li>
        <li>
          <strong>Mount pseudo-filesystems:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">for i in /dev /proc /sys; do sudo mount --bind $i /mnt$i; done</code>
        </pre>
        </li>
        <li>
          <strong>Masuk ke chroot:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">sudo chroot /mnt</code>
        </pre>
        </li>
        <li>
          <strong>Reinstall GRUB:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">grub-install /dev/sda
update-grub</code>
        </pre>
        </li>
        <li>
          <strong>Keluar & unmount:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">exit
for i in /dev /proc /sys; do sudo umount /mnt$i; done
sudo umount /mnt</code>
        </pre>
        </li>
        <li>
          <strong>Reboot sistem:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">sudo reboot</code>
        </pre>
        </li>
      </ol>
    </section>
    <section id="troubleshooting">
      <h2>3. Troubleshooting Jika Masih Gagal</h2>
      <ul>
        <li>
          <strong>Mount partisi EFI (untuk UEFI):</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">sudo mount /dev/sda1 /mnt/boot/efi
grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=debian
update-grub</code>
        </pre>
        </li>
        <li>
          <strong>Cek UUID partisi:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">blkid
cat /etc/fstab</code>
        </pre>
        </li>
        <li>
          <strong>Gunakan Boot-Repair:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">sudo add-apt-repository ppa:yannubuntu/boot-repair
sudo apt update
sudo apt install boot-repair
boot-repair</code>
        </pre>
        </li>
        <li><strong>Periksa mode boot (UEFI vs Legacy).</strong></li>
        <li>
          <strong>Periksa filesystem:</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">fsck -f /dev/sda1</code>
        </pre>
        </li>
        <li>
          <strong>Reinstall kernel (jika perlu):</strong>
          <pre>
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
<code class="language-bash">apt update
apt install --reinstall linux-image-amd64</code>
        </pre>
        </li>
      </ul>
      <div style="margin-top: 18px; color: var(--muted); font-size: 13px">
        URL halaman: <span id="current-url" class="small-muted"></span>
      </div>
      <div style="margin-top: 18px">
        <div id="fb-root"></div>
        <script
          async
          defer="defer"
          crossorigin="anonymous"
          src="https://connect.facebook.net/id_ID/sdk.js#xfbml=1&version=v23.0"
        ></script>
        <div
          class="fb-comments"
          id="fb-comments"
          data-href=""
          data-width="100%"
          data-numposts="5"
        ></div>
        <script>
          let currentUrl = window.location.href;
          ((document.getElementById("current-url").textContent = currentUrl),
            document
              .getElementById("fb-comments")
              .setAttribute("data-href", currentUrl),
            (window.fbAsyncInit = function () {
              if ("undefined" != typeof FB)
                try {
                  FB.XFBML.parse();
                } catch (t) {}
            }));
        </script>
      </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
    <script>
      function copyCode(e) {
        ((e = e.nextElementSibling.innerText),
          navigator.clipboard.writeText(e).then(() => {
            alert("Kode berhasil dicopy!");
          }));
      }
      function downloadScript() {
        var e = document.querySelector(
            "#otomatis code.language-bash",
          ).innerText,
          e = new Blob([e], { type: "text/x-sh" }),
          e = URL.createObjectURL(e),
          t = document.createElement("a");
        ((t.href = e),
          (t.download = "fix-grub.sh"),
          t.click(),
          URL.revokeObjectURL(e));
      }
    </script>
    <a
      href="https://frijal.github.io/sitemap.html"
      target="_blank"
      id="btn-home-left"
      title="Kembali ke Home"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 576 512"
        width="18"
        height="18"
        fill="currentColor"
        style="margin-right: 6px"
      >
        <path
          d="M541 229.16l-61-53.6V56a24 24 0 0 0-24-24h-56a24 24 0 0 0-24 24v24.51L314.59 43a35.38 35.38 0 0 0-47.19 0L35 229.16a12 12 0 0 0-1.6 16.9l25.5 28a12 12 0 0 0 16.9 1.6L96 239.64V456a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V360h64v96a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V239.64l20.2 17.9a12 12 0 0 0 16.9-1.6l25.5-28a12 12 0 0 0-1.6-16.9z"
        />
      </svg>
      Home </a
    ><a
      href="https://frijal.github.io/sitemap.html"
      target="_blank"
      id="btn-home-right"
      title="Kembali ke Home"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 576 512"
        width="18"
        height="18"
        fill="currentColor"
        style="margin-right: 6px"
      >
        <path
          d="M541 229.16l-61-53.6V56a24 24 0 0 0-24-24h-56a24 24 0 0 0-24 24v24.51L314.59 43a35.38 35.38 0 0 0-47.19 0L35 229.16a12 12 0 0 0-1.6 16.9l25.5 28a12 12 0 0 0 16.9 1.6L96 239.64V456a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V360h64v96a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V239.64l20.2 17.9a12 12 0 0 0 16.9-1.6l25.5-28a12 12 0 0 0-1.6-16.9z"
        />
      </svg>
      Home</a
    ><style>
      #btn-home-left,
      #btn-home-right {
        position: fixed;
        display: flex;
        align-items: center;
        background-color: #007bff;
        color: #fff;
        padding: 12px 18px;
        border-radius: 8px;
        text-decoration: none;
        font-family: Arial, sans-serif;
        font-size: 14px;
        font-weight: 700;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition:
          background 0.3s ease,
          transform 0.2s ease;
        z-index: 9999;
      }
      #btn-home-left:hover,
      #btn-home-right:hover {
        background-color: #0056b3;
        transform: scale(1.05);
      }
      #btn-home-left {
        left: 10px;
        top: 30%;
        transform: translateY(-50%);
      }
      #btn-home-right {
        right: 10px;
        bottom: 20%;
        transform: translateY(50%);
      }
      #btn-home-left svg,
      #btn-home-right svg {
        flex-shrink: 0;
      }</style
    ><button id="related-posts-toggle">❌</button>
    <div id="related-posts-container"><ul id="related-posts-list"></ul></div>
    <script src="/ext/related.js"></script>
  </body>
</html>
