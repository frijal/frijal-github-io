 <!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Panduan Mirror Linux Tercepat — Semua Distro</title>

  <!-- Prism.js theme -->
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>

  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --text:#222;
      --muted:#606770;
      --accent:#0077cc;
      --btn:#005f73;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, "Segoe UI", Tahoma, Verdana, sans-serif;
      background:var(--bg);
      color:var(--text);
      line-height:1.6;
      transition:background .2s,color .2s;
    }
    header{
      background:var(--accent);
      color:#fff;
      padding:18px 16px;
      text-align:center;
    }
    header h1{margin:0;font-size:1.35rem}
    header p{margin:6px 0 0;opacity:.95;font-size:.95rem}
    main{
      max-width:1100px;
      margin:20px auto;
      padding:22px;
      background:var(--card);
      border-radius:12px;
      box-shadow:0 10px 30px rgba(20,20,40,0.06);
    }
    section{margin-bottom:28px}
    h2{color:var(--accent);margin-top:0}
    p, li { color:var(--muted) }
    ul{margin:8px 0 12px 20px}
    .note{
      background:#eef7ff;border-left:4px solid var(--accent);padding:10px;border-radius:6px;color:var(--muted);
      margin-bottom:14px;
    }

    /* Code block */
    pre{
      position:relative;
      border-radius:8px;
      overflow:auto;
      margin:14px 0;
      font-size:.95rem;
      background:#2d2d2d;
    }
    pre code{display:block;padding:16px;color:#f8f8f2;white-space:pre}
    .copy-btn{
      position:absolute;
      top:8px;
      right:8px;
      background:var(--btn);
      color:#fff;
      border:none;
      padding:6px 10px;
      border-radius:6px;
      cursor:pointer;
      font-size:0.85rem;
    }
    .copy-btn:active{transform:translateY(1px)}
    .section-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:18px;
    }

    footer{margin-top:20px;text-align:center;color:var(--muted);padding:10px}

    /* Dark mode */
    body.dark{
      --bg:#0b0d10;
      --card:#0f1114;
      --text:#e8eef6;
      --muted:#bfc9d6;
      --accent:#66b2ff;
      --btn:#35807a;
    }
    body.dark pre{background:#0b1220}
    body.dark pre code{color:#dff0ff}

    /* Dark toggle */
    .dark-toggle{
      position:fixed;
      top:12px;
      right:12px;
      background:#fff;
      color:var(--accent);
      border:none;
      padding:8px 12px;
      border-radius:8px;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(0,0,0,0.12);
      font-weight:600;
    }
    body.dark .dark-toggle{background:#111;color:var(--accent)}
    @media (max-width:800px){
      main{padding:16px;margin:12px}
      header h1{font-size:1.1rem}
    }
  </style>
</head>
<body>
  <button class="dark-toggle" id="darkToggle">🌙 Dark Mode</button>

  <header>
    <h1>Panduan Mirror Linux Tercepat — Semua Distro</h1>
    <p>Debian/Ubuntu • Arch/Manjaro • Fedora • openSUSE • Slackware • NixOS — cara otomatis & manual</p>
  </header>

  <main>
    <section>
      <h2>Pengenalan singkat</h2>
      <p>Mirror (repository mirror) adalah server yang menyimpan paket-paket distribusi Linux. Memilih mirror yang cepat dan dekat (geografis) mempercepat <em>apt/pacman/dnf/zypper/nix</em> update dan instalasi paket. Dokumen ini memberi perintah siap pakai untuk memilih mirror tercepat (otomatis) pada berbagai distro populer.</p>
      <div class="note">Catatan: jalankan perintah yang butuh menulis konfigurasi dengan <code>sudo</code>. Selalu backup file konfigurasi sebelum mengganti mirror.</div>
    </section>

    <section>
      <h2>1. Debian & Ubuntu (APT) — netselect-apt</h2>
      <p>Tool <code>netselect-apt</code> menguji mirror dan membuat <code>sources.list</code> sesuai mirror tercepat.</p>

      <div class="section-grid">
        <div>
          <h3>Langkah cepat</h3>
          <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash">sudo apt update
sudo apt install -y netselect-apt

# Cari mirror untuk release (contoh: bookworm atau jammy)
sudo netselect-apt bookworm   # Debian 12
# atau
sudo netselect-apt jammy      # Ubuntu 22.04</code></pre>
        </div>

        <div>
          <h3>Pindahkan hasil & update</h3>
          <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash"># file 'sources.list' akan dibuat di direktori kerja
# Backup lalu ganti sources.list
sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup
sudo mv sources.list /etc/apt/sources.list

# Refresh apt
sudo apt update</code></pre>
        </div>

        <div>
          <h3>Tips</h3>
          <ul>
            <li>Jika netselect-apt sulit dijalankan, gunakan <code>apt-fast</code> atau pilih mirror manual lewat daftar resmi.</li>
            <li>Untuk Ubuntu gunakan GUI <strong>Software &amp; Updates → Download from → Other → Select Best Server</strong>.</li>
          </ul>
        </div>
      </div>
    </section>

    <section>
      <h2>2. Arch Linux & Manjaro (pacman) — reflector / pacman-mirrors</h2>
      <p>Arch: pakai <code>reflector</code>. Manjaro: pakai <code>pacman-mirrors</code>.</p>

      <div class="section-grid">
        <div>
          <h3>Arch — contoh</h3>
          <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash"># Install reflector (jika belum ada)
sudo pacman -S --noconfirm reflector

# Pilih 5 mirror terbaru dari Indonesia, urut menurut speed, simpan ke mirrorlist
sudo reflector --country "Indonesia" --latest 5 --sort rate --save /etc/pacman.d/mirrorlist

# Refresh & upgrade
sudo pacman -Syyu</code></pre>
        </div>

        <div>
          <h3>Manjaro — contoh</h3>
          <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash"># Fasttrack pilihan mirror tercepat dan refresh
sudo pacman-mirrors --fasttrack
sudo pacman -Syyu</code></pre>
        </div>

        <div>
          <h3>Tips</h3>
          <ul>
            <li>Jalankan <code>reflector</code> dari koneksi yang mewakili kondisi normalmu (Wi-Fi vs kabel).</li>
            <li>Simpan mirrorlist hasil uji untuk rollback jika ada masalah.</li>
          </ul>
        </div>
      </div>
    </section>

    <section>
      <h2>3. Fedora (dnf)</h2>
      <p>Fedora menggunakan MirrorManager; mirror terbaik dipilih otomatis. Untuk memastikan kamu menggunakan metadata terbaru:</p>

      <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash"># Bersihkan cache lama dan refresh metadata
sudo dnf clean all
sudo dnf makecache --refresh

# Update sistem (paksa sinkronisasi ke mirror terbaru)
sudo dnf upgrade --refresh</code></pre>

      <p class="note">Jika butuh mirror lokal khusus, edit file <code>/etc/yum.repos.d/fedora.repo</code> dan ganti baseurl — tapi hati-hati dan backup file dulu.</p>
    </section>

    <section>
      <h2>4. openSUSE (zypper)</h2>
      <p>openSUSE memakai MirrorBrain — biasanya otomatis. Untuk refresh dan update:</p>

      <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash"># Refresh repo
sudo zypper refresh

# Untuk upgrade (Distribution Upgrade)
sudo zypper dup</code></pre>

      <p>Untuk memilih mirror spesifik, kunjungi situs mirror openSUSE atau gunakan YaST → Software Repositories untuk ubah mirror.</p>
    </section>

    <section>
      <h2>5. Slackware (slackpkg)</h2>
      <p>Slackware mengandalkan file <code>/etc/slackpkg/mirrors</code>. Pilih mirror terdekat lalu aktifkan (hapus tanda <code>#</code>).</p>

      <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash"># Edit daftar mirror
sudo nano /etc/slackpkg/mirrors

# Contoh: aktifkan mirror lokal (hapus #)
# ftp://kartolo.sby.datautama.net.id/slackware/slackware64-15.0/

# Update slackpkg
sudo slackpkg update gpg
sudo slackpkg update</code></pre>

      <p class="note">Pilih mirror resmi atau komunitas yang terpercaya untuk menghindari paket tidak resmi.</p>
    </section>

    <section>
      <h2>6. NixOS (nix.conf / substituters)</h2>
      <p>Nix menggunakan substituter (cache) untuk mempercepat pengunduhan store. Tambahkan substituters di <code>/etc/nix/nix.conf</code> atau konfigurasi NixOS.</p>

      <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash"># Edit /etc/nix/nix.conf (contoh)
sudo nano /etc/nix/nix.conf

# Tambahkan substituters. Contoh:
substituters = https://cache.nixos.org https://mirror.sjtu.edu.cn/nix-channels/store
trusted-public-keys = cache.nixos.org-1:... mirror.sjtu.edu.cn-1:...

# Lalu update channels & environment
sudo nix-channel --update
nix-env -u</code></pre>

      <p>Untuk daftar mirror resmi: <code>https://nixos.org/mirrors/</code>. Pastikan trusted public keys sesuai mirror yang digunakan.</p>
    </section>

    <section>
      <h2>Tips Umum Memilih Mirror</h2>
      <ul>
        <li>Pilih mirror geografis terdekat untuk latency rendah.</li>
        <li>Uji kecepatan dengan tools (netselect, reflector, simple curl/ping tests).</li>
        <li>Periksa update frequency mirror — mirror jarang sinkron tidak ideal.</li>
        <li>Backup file konfigurasi repo sebelum mengganti (mis. <code>/etc/apt/sources.list</code>, <code>/etc/pacman.d/mirrorlist</code>).</li>
        <li>Jika mengalami error paket hilang, rollback ke mirror lama atau gunakan daftar resmi distro.</li>
      </ul>
    </section>

    <section>
      <h2>Contoh skrip singkat (otomatis pilih mirror Debian/Arch)</h2>
      <p>Berikut contoh skrip kecil untuk mencoba netselect-apt (Debian) atau reflector (Arch). Jalankan sesuai distro.</p>

      <pre><button class="copy-btn" onclick="copyCode(this)">Copy</button><code class="language-bash">#!/bin/bash
# quick-mirror.sh (pilih salah satu mode: debian|arch)
MODE="$1"
if [ "$MODE" = "debian" ]; then
  sudo apt update
  sudo apt install -y netselect-apt
  sudo netselect-apt stable
  sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
  sudo mv sources.list /etc/apt/sources.list
  sudo apt update
elif [ "$MODE" = "arch" ]; then
  sudo pacman -S --noconfirm reflector
  sudo reflector --country "Indonesia" --latest 10 --sort rate --save /etc/pacman.d/mirrorlist
  sudo pacman -Syyu
else
  echo "Usage: $0 debian|arch"
fi</code></pre>
    </section>

    <section>
      <h2>Penutup</h2>
      <p>Dengan memilih mirror yang tepat sesuai distro dan lokasi, update & instalasi paket jadi lebih cepat dan nyaman. Jika ragu, jangan lupa backup konfigurasi repo dan coba mirror satu per satu sampai menemukan yang stabil & cepat untuk koneksimu.</p>
      <!-- Container for FB comments plugin requirement (user script uses id="current-url") -->
          <div style="margin-top:18px;color:var(--muted);font-size:10px"><span id="current-url" class="small-muted"></span></div>
        <!-- Facebook Comments Plugin (user-provided) -->
        <div style="margin-top:18px">
          <!-- Facebook Comments Plugin -->
          <div id="fb-root"></div>
          <script async defer crossorigin="anonymous"
            src="https://connect.facebook.net/id_ID/sdk.js#xfbml=1&version=v23.0">
          </script>
          <div class="fb-comments"
               id="fb-comments"
               data-href=""
               data-width="100%"
               data-numposts="5"></div>
          <script>
            // Ambil URL unik halaman saat ini
            const currentUrl = window.location.href;
            document.getElementById("current-url").textContent = currentUrl;
            // Set data-href FB Comments ke URL halaman ini
            document.getElementById("fb-comments").setAttribute("data-href", currentUrl);
            // Reload plugin FB agar data-href diperbarui (jika SDK sudah siap)
            window.fbAsyncInit = function() {
              if (typeof FB !== 'undefined') {
                try { FB.XFBML.parse(); } catch(e) { /* ignore */ }
              }
            }
          </script>
    </section>
  </main>

  <footer>
    &copy; 2025 • Panduan Mirror Linux — Gunakan mirror resmi dan selalu backup konfigurasi sebelum mengganti.
  </footer>

  <!-- Prism.js -->
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>

  <script>
    // Copy buttons (works for the pre blocks' code element right after)
    function copyCode(btn){
      // find next code element inside the same pre
      const pre = btn.parentElement;
      const code = pre.querySelector('code');
      if(!code) return;
      navigator.clipboard.writeText(code.innerText).then(()=>{
        const old = btn.textContent;
        btn.textContent = 'Copied!';
        setTimeout(()=> btn.textContent = old, 1400);
      }).catch(()=>{
        alert('Copy failed — please copy manually.');
      });
    }

    // Dark mode toggle (session only)
    const darkToggle = document.getElementById('darkToggle');
    darkToggle.addEventListener('click', ()=>{
      document.body.classList.toggle('dark');
      const on = document.body.classList.contains('dark');
      darkToggle.textContent = on ? '☀️ Light Mode' : '🌙 Dark Mode';
    });
  </script>
  <!-- Tombol Home Kiri -->
<a href="https://frijal.github.io/sitemap.html" target="_blank" id="btn-home-left" title="Kembali ke Home">
  <!-- Ikon Rumah SVG -->
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="18" height="18" fill="currentColor" style="margin-right:6px;">
    <path d="M541 229.16l-61-53.6V56a24 24 0 0 0-24-24h-56a24 24 0 0 0-24 24v24.51L314.59 43a35.38 35.38 0 0 0-47.19 0L35 229.16a12 12 0 0 0-1.6 16.9l25.5 28a12 12 0 0 0 16.9 1.6L96 239.64V456a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V360h64v96a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V239.64l20.2 17.9a12 12 0 0 0 16.9-1.6l25.5-28a12 12 0 0 0-1.6-16.9z"/>
  </svg>
  Home
</a>

<!-- Tombol Home Kanan -->
<a href="https://frijal.github.io/sitemap.html" target="_blank" id="btn-home-right" title="Kembali ke Home">
  <!-- Ikon Rumah SVG -->
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="18" height="18" fill="currentColor" style="margin-right:6px;">
    <path d="M541 229.16l-61-53.6V56a24 24 0 0 0-24-24h-56a24 24 0 0 0-24 24v24.51L314.59 43a35.38 35.38 0 0 0-47.19 0L35 229.16a12 12 0 0 0-1.6 16.9l25.5 28a12 12 0 0 0 16.9 1.6L96 239.64V456a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V360h64v96a24 24 0 0 0 24 24h112a24 24 0 0 0 24-24V239.64l20.2 17.9a12 12 0 0 0 16.9-1.6l25.5-28a12 12 0 0 0-1.6-16.9z"/>
  </svg>
  Home
</a>

<style>
  /* Style umum tombol */
  #btn-home-left, #btn-home-right {
    position: fixed;
    display: flex;
    align-items: center;
    background-color: #007bff;
    color: #fff;
    padding: 12px 18px;
    border-radius: 8px;
    text-decoration: none;
    font-family: Arial, sans-serif;
    font-size: 14px;
    font-weight: bold;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: background 0.3s ease, transform 0.2s ease;
    z-index: 9999;
  }

  #btn-home-left:hover, #btn-home-right:hover {
    background-color: #0056b3;
    transform: scale(1.05);
  }

  /* Tombol kiri */
  #btn-home-left {
    left: 10px;
    top: 30%;
    transform: translateY(-50%);
  }

  /* Tombol kanan */
  #btn-home-right {
    right: 10px;
    bottom: 20%;
    transform: translateY(50%);
  }

  #btn-home-left svg, #btn-home-right svg {
    flex-shrink: 0;
  }
</style>
</body>
</html>
